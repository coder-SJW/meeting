(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7b04e42"],{"0b80":function(e,r,s){},"219d":function(e,r,s){"use strict";s("0b80")},"914f":function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"login-wrap"},[s("div",{staticClass:"ms-login"},[s("div",{staticClass:"ms-title",staticStyle:{color:"black"}},[e._v("会议室预定系统")]),s("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showLogin,expression:"showLogin"}],ref:"login",staticClass:"ms-content",attrs:{id:"loginForm",model:e.param,rules:e.rules,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"passport"}},[s("el-input",{attrs:{placeholder:"账号"},model:{value:e.param.passport,callback:function(r){e.$set(e.param,"passport",r)},expression:"param.passport"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-people"},slot:"prepend"})],1)],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{placeholder:"密码",type:"password"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm()}},model:{value:e.param.password,callback:function(r){e.$set(e.param,"password",r)},expression:"param.password"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1)],1),s("div",{staticClass:"login-btn"},[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm()}}},[e._v("登录")])],1),s("div",{attrs:{id:"registerClick"}},[s("span",{staticStyle:{"font-size":"14px"}},[e._v("还没有账号？")]),s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.showRegisterForm()}}},[e._v("立即注册")])],1)],1),s("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.showLogin,expression:"!showLogin"}],ref:"register",staticClass:"ms-content",attrs:{id:"registerForm",model:e.registerParam,rules:e.registerRules,"label-width":"60px"}},[s("el-form-item",{attrs:{label:"账号",prop:"passport"}},[s("el-input",{attrs:{placeholder:"账号"},model:{value:e.registerParam.passport,callback:function(r){e.$set(e.registerParam,"passport",r)},expression:"registerParam.passport"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"passport"}},[s("el-input",{attrs:{placeholder:"密码",type:"password"},model:{value:e.registerParam.password,callback:function(r){e.$set(e.registerParam,"password",r)},expression:"registerParam.password"}})],1),s("el-form-item",{attrs:{label:"名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"名称"},model:{value:e.registerParam.name,callback:function(r){e.$set(e.registerParam,"name",r)},expression:"registerParam.name"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{placeholder:"邮箱"},model:{value:e.registerParam.email,callback:function(r){e.$set(e.registerParam,"email",r)},expression:"registerParam.email"}})],1),s("el-form-item",{attrs:{label:"手机",prop:"phone"}},[s("el-input",{attrs:{placeholder:"手机"},model:{value:e.registerParam.phone,callback:function(r){e.$set(e.registerParam,"phone",r)},expression:"registerParam.phone"}})],1),s("div",{staticClass:"login-btn",staticStyle:{"margin-left":"60px"}},[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitRegisterForm()}}},[e._v("注册")])],1),s("div",{attrs:{id:"loginClick"}},[s("span",{staticStyle:{"font-size":"14px"}},[e._v("已有账号？")]),s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.showLoginForm()}}},[e._v("立即登陆")])],1)],1)],1)])},a=[],i=s("ccf4"),o={data:function(){return{showLogin:!0,param:{passport:"",password:"",rememberMe:!1},registerParam:{passport:"",password:"",name:"",email:"",phone:""},rules:{passport:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},registerRules:{passport:[{required:!0,message:"请输入账号",trigger:"blur"},{type:"string",max:16,trigger:"blur",message:"账号长度不能超过16"}],name:[{required:!0,message:"请输入名称",trigger:"blur"},{type:"string",max:6,trigger:"blur",message:"名称长度不能超过6"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",max:64,trigger:"blur",message:"密码长度不能超过64"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"string",max:32,trigger:"blur",message:"邮箱长度不能超过32"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{type:"string",max:16,trigger:"blur",message:"手机号长度不能超过16"}]}}},methods:{submitForm(){this.$refs.login.validate(async e=>{if(!e)return this.$message.error("请输入账号和密码"),!1;try{const e=await i["a"].login(this.param);this.$store.commit("UPDATE_USER_INFO",e.data),this.$message.success("登录成功"),sessionStorage.setItem("passport",this.param.passport),this.$router.push("/")}catch(r){this.$message.error(r.message)}})},submitRegisterForm(){this.$refs.register.validate(async e=>{if(!e)return this.$message.error("请完善注册信息"),!1;try{await i["a"].register(this.registerParam),this.$message.success("注册成功"),this.showLogin=!0}catch(r){this.$message.error(r.message)}})},showRegisterForm(){this.showLogin=!1},showLoginForm(){this.showLogin=!0}}},l=o,n=(s("219d"),s("2877")),p=Object(n["a"])(l,t,a,!1,null,"941b466e",null);r["default"]=p.exports}}]);