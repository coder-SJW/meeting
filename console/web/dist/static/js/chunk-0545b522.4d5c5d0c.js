(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0545b522"],{"20ed":function(t,e,a){"use strict";a("88f9")},3671:function(t,e,a){"use strict";var i=a("1c1e");function r(t){return i["a"].post("/api/meeting",t)}function s(t){return i["a"].remove("/api/meeting",t)}function n(t,e){return i["a"].put("/api/meeting",t,e)}function l(t){return i["a"].get("/api/meeting",t)}function o(t){return i["a"].get("/api/meeting",null,t)}function c(t){return i["a"].download("/api/meeting/exportExcel",t)}function u(t){return i["a"].post("/api/meeting/review",t)}e["a"]={create:r,remove:s,update:n,get:l,query:o,exportExcel:c,review:u}},7810:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"会议审核",visible:t.dialogFormVisible,width:"300px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",[a("el-form-item",[a("el-radio-group",{model:{value:t.reviewStatus.status,callback:function(e){t.$set(t.reviewStatus,"status",e)},expression:"reviewStatus.status"}},[a("el-radio",{attrs:{label:"0"}},[t._v("审核中")]),a("el-radio",{attrs:{label:"1"}},[t._v("通过")]),a("el-radio",{attrs:{label:"2"}},[t._v("驳回")])],1)],1)],1),a("div",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.review()}}},[t._v("确 定")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:"会议名称"}},[a("el-input",{staticClass:"handle-input mr10",staticStyle:{width:"180px"},model:{value:t.filter.name,callback:function(e){t.$set(t.filter,"name",e)},expression:"filter.name"}})],1),a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{staticClass:"handle-input mr10",staticStyle:{width:"180px"},model:{value:t.filter.content,callback:function(e){t.$set(t.filter,"content",e)},expression:"filter.content"}})],1),a("el-form-item",{attrs:{label:"会议室"}},[a("el-input",{staticClass:"handle-input mr10",staticStyle:{width:"180px"},model:{value:t.filter.roomName,callback:function(e){t.$set(t.filter,"roomName",e)},expression:"filter.roomName"}})],1),a("el-form-item",[t.$hasPermission("MEETING_QUERY")?a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(e){return t.queryList()}}},[t._v("查询\n          ")]):t._e(),t.$hasPermission("MEETING_EXPORT")?a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(e){return t.exportExcel()}}},[t._v("导出\n          ")]):t._e(),t.$hasPermission("MEETING_CREATE")?a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(e){return t.create()}}},[t._v("创建\n          ")]):t._e()],1)],1)],1),a("paged-table",{attrs:{"current-page":t.filter.pageNum,data:t.tableData,"page-size":t.filter.pageSize,total:t.total},on:{"current-change":t.queryList,"size-change":t.pageSizeChange}},[a("el-table-column",{attrs:{label:"会议名称",prop:"name"}}),a("el-table-column",{attrs:{label:"内容",prop:"content","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"人员名单",prop:"accountNames"}}),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t._f("formatDate")(a.createTime)))]}}])}),a("el-table-column",{attrs:{label:"修改时间"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(t._f("formatDate")(a.updateTime)))]}}])}),a("el-table-column",{attrs:{label:"会议室",prop:"roomName"}}),a("c",{attrs:{label:"状态",prop:"status"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100","filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.status?a("el-tag",{attrs:{type:"warning","disable-transitions":""}},[t._v("审核中")]):t._e(),"1"===e.row.status?a("el-tag",{attrs:{type:"success","disable-transitions":""}},[t._v("通过")]):t._e(),"2"===e.row.status?a("el-tag",{attrs:{type:"danger","disable-transitions":""}},[t._v("驳回")]):t._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$hasPermission("MEETING_REVIEW")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return t.open(e.row.id,e.row.status)}}},[t._v("审核\n          ")]):t._e(),t.$hasPermission("MEETING_QUERY")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return t.detail(e.row.id)}}},[t._v("详情\n          ")]):t._e(),t.$hasPermission("MEETING_DELETE")?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return t.remove(e.row.id)}}},[t._v("删除\n          ")]):t._e()]}}])})],1)],1)],1)},r=[],s=a("3671"),n=a("0748"),l={name:"Meeting",components:{PagedTable:n["a"]},data(){return{filter:{name:"",content:"",roomName:"",pageNum:1,pageSize:20},total:0,roomList:[],tableData:[],reviewStatus:{id:0,status:0},dialogFormVisible:!1}},created(){this.queryList()},methods:{filterTag(t,e){return e.tag===t},async queryList(t=1){this.filter.pageNum=t;const e=Object.assign({},this.filter),{data:a}=await s["a"].query(e);this.total=a.count,this.tableData=a.rows},async exportExcel(){this.filter.pageNum=1;const t=Object.assign({},this.filter);await s["a"].exportExcel(t)},pageSizeChange(t){this.filter.pageSize=t,this.queryList()},detail(t){this.$router.push("/meeting-detail?id="+t)},create(){this.$router.push("/meeting-create")},async remove(t){await this.$confirm("是否确认删除？","删除",{type:"warn"});try{await s["a"].remove(t),this.$message.success("删除成功！"),this.queryList()}catch(e){this.$message.error("删除失败！原因："+e.message)}},open(t,e){this.reviewStatus.id=t,this.reviewStatus.status=e,this.dialogFormVisible=!0},async review(){await this.$confirm("是否确认？","审核",{type:"warn"});try{await s["a"].review(this.reviewStatus),this.$message.success("审核成功！"),this.queryList(),this.dialogFormVisible=!1}catch(t){this.$message.error("审核失败！原因："+t.message),this.dialogFormVisible=!1}}}},o=l,c=(a("20ed"),a("2877")),u=Object(c["a"])(o,i,r,!1,null,"3f82123a",null);e["default"]=u.exports},"88f9":function(t,e,a){}}]);